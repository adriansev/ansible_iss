---
- name: Install hardware monitoring tools on hardware machines (not vms) - EL7
  yum :
    name: [ 'dmidecode', 'dmraid', 'dmraid-events', 'edac-utils', 'linux-firmware', 'lldpd', 'lm_sensors', 'lshw', 'mdadm', 'pciutils', 'smartmontools' ]
    state: latest
    update_cache: True
    when: ansible_facts[ 'distribution' ] == 'CentOS' and ansible_facts[ 'distribution_major_version' ] == '7'

- name: Install hardware monitoring tools on hardware machines (not vms) - EL8
  dnf :
    name: [ 'dmidecode', 'dmraid', 'dmraid-events', 'edac-utils', 'linux-firmware', 'lldpd', 'lm_sensors', 'lshw', 'mdadm', 'pciutils', 'smartmontools' ]
    state: latest
    update_cache: True
    when: ansible_facts[ 'distribution' ] == 'CentOS' and ansible_facts[ 'distribution_major_version' ] == '8'

- name: Install hardware monitoring tools on hardware machines (not vms) - Fedora
  dnf :
    name: [ 'dmidecode', 'dmraid', 'dmraid-events', 'edac-utils', 'linux-firmware', 'lldpd', 'lm_sensors', 'lshw', 'mdadm', 'pciutils', 'smartmontools' ]
    state: latest
    update_cache: True
    when: ansible_facts[ 'distribution' ] == 'Fedora'

